module.exports=function(t){function e(){var e={dots:function(){return r()},arrows:function(){return o()},buttons:function(){return a()},autoplay:function(){return b()},infinite:function(){return n(I-1,-S.offsetWidth+"px","afterBegin")},initial:function(){var e=t.initial>=I?I:t.initial;return s(e)}};for(var i in e)t.hasOwnProperty(i)&&t[i]&&e[i]()}function n(t,e,n){var r=S.querySelectorAll("."+j+" > ul li")[t];r.style.marginLeft=e,S.querySelector("."+j+" > ul").removeChild(r),S.querySelector("."+j+" > ul").insertAdjacentHTML(n,r.outerHTML)}function r(){var t=document.createElement("ul");t.classList.add(H),t.addEventListener("click",l.bind(this));for(var e=0;I>e;e++){var n=document.createElement("li");n.setAttribute("data-position",e),t.appendChild(n)}S.appendChild(t),i()}function i(){switch([].forEach.call(S.querySelectorAll("."+H+" li"),function(t){t.classList.remove("is-active")}),B){case-1:B=I-1;break;case I:B=0;break;default:B=B}S.querySelectorAll("."+H+" li")[B].classList.add("is-active")}function l(t){"LI"===t.target.tagName&&s(t.target.getAttribute("data-position"))}function o(){var t=document.createElement("button");t.innerHTML=T,t.classList.add(k);var e=document.createElement("button");e.innerHTML=A,e.classList.add(w),t.addEventListener("click",f),e.addEventListener("click",p),S.appendChild(t),S.appendChild(e)}function a(){var t=document.createElement("button");t.innerHTML=g,t.classList.add(P),t.addEventListener("click",b);var e=document.createElement("button");e.innerHTML=x,e.classList.add(M),e.addEventListener("click",E),S.appendChild(t),S.appendChild(e)}function u(t){t.style.marginLeft=""}function c(t){t.style.marginLeft=-S.offsetWidth+"px"}function s(t){var e=B-t;0>e?d(-e,p):d(e,f)}function d(t,e){for(var n=0;t>n;n++)e()}function f(){t.infinite?v():m()}function v(){u(document.querySelectorAll("."+j+" > ul li")[0]),n(I-1,-S.offsetWidth+"px","afterBegin"),h(-1)}function m(){E(),0!==B&&(u(document.querySelectorAll("."+j+" > ul li")[B-1]),h(-1))}function p(){t.infinite?L():y()}function L(){c(document.querySelectorAll("."+j+" > ul li")[1]),n(0,"","beforeEnd"),h(1)}function y(){return B===I-1?void E():(c(document.querySelectorAll("."+j+" > ul li")[B]),void h(1))}function h(e){B+=e,t.dots&&i()}function b(){N||(N=setInterval(p.bind(this),q))}function E(){clearInterval(N),N=null}function C(){return B}var S=document.getElementById(t.elem||"carousel"),q=t.interval||3e3,g=t.btnPlayText||"Play",x=t.btnStopText||"Stop",A=t.arrNextText||"&rsaquo;",T=t.arrPrevText||"&lsaquo;",j="js-Carousel",k="js-Carousel-arrowPrev",w="js-Carousel-arrowNext",H="js-Carousel-dots",M="js-Carousel-btnStop",P="js-Carousel-btnPlay",I=S.querySelectorAll("li").length,B=0,N=null;return I>1&&e(),{live:C,show:s,prev:f,next:p,play:b,stop:E}};